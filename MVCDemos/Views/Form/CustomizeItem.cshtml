@using DevExtreme.MVC.Demos.ViewModels
@model FormViewModel

@(Html.DevExtreme().Form<FormViewModel>()
    .FormData(Model)
    .Items(items => {
        items.AddGroup()
            .Caption("Employee Details")
            .ColCount(2)
            .Items(groupItems => {
                groupItems.AddSimpleFor(m => m.FirstName)
                    .Editor(e => e
                        .TextBox()
                        .Disabled(true)
                    );

                groupItems.AddSimpleFor(m => m.Position)
                    .Editor(e => e
                        .SelectBox()
                        .DataSource(new[] {
                            "HR Manager",
                            "IT Manager",
                            "CEO",
                            "Controller",
                            "Sales Manager",
                            "Support Manager",
                            "Shipping Manager"
                        })
                        .SearchEnabled(true)
                        .Value("")
                    )
                    .ValidationRules(r => r
                        .AddRequired()
                        .Message("Position is required")
                    );

                groupItems.AddSimpleFor(m => m.LastName)
                    .Editor(e => e
                        .TextBox()
                        .Disabled(true)
                    );

                groupItems.AddSimpleFor(m => m.HireDate)
                    .Editor(e => e
                        .DateBox()
                        .Value(new JS("null"))
                        .Width("100%")
                    )
                    .ValidationRules(r => r
                        .AddRequired()
                        .Message("Hire date is required")
                    );

                groupItems.AddSimpleFor(m => m.BirthDate)
                    .Editor(e => e
                        .DateBox()
                        .Disabled(true)
                        .Width("100%")
                    )
                    .IsRequired(false);


                groupItems.AddSimpleFor(m => m.Address);

                groupItems.AddSimpleFor(m => m.Notes)
                    .ColSpan(2)
                    .Editor(e => e
                        .TextArea()
                        .Height(90)
                        .MaxLength(200)
                    );

                groupItems.AddSimpleFor(m => m.Phone)
                    .Editor(e => e
                        .TextBox()
                        .Mask("+1 (X00) 000-0000")
                        .MaskRules(new { X = new JS("/[02-9]/") })
                    );

                groupItems.AddSimpleFor(m => m.Email);
            });
    })
    .OnContentReady(@<text>
        function(e) {
            e.component.validate();
        }
    </text>)
)

